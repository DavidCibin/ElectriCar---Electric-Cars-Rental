{% extends 'base.html' %}
{% block content %}

<h1>Car Details</h1>

<div class="card" style="max-width: 1000px;">
  <div class="card-header">
    Featured
  </div>
  <div class="detail-card">
    <div class="card-left">
      {% for photo in car.photo_set.all %}
        <img class="card-img-top" src="{{photo.url}}">
      {% empty %}
        <img class="card-img-top" src="https://i.ibb.co/TbQNcvH/nocar.webp" alt="nocar" border="0">
      {% endfor %}
    </div>
    <div class="card-body card-center">
      <h5 class="card-title">Special title treatment</h5>
      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
    </div>
    <div class="card-body card-right">
      <h5 class="card-title">Special title treatment</h5>
      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
      <a href="#" class="btn btn-primary">Go somewhere</a>
    </div>
  </div>
</div>

<div class="card">
  <div class="card-content">
    <span class="card-title">{{ car.make }}</span>
    <p>Model: {{ car.model }}</p>
    <p>Passenger: {{ car.passengers }}</p>
    {% if car.luggage > 0 %}
      <p>Luggage: {{ car.luggage }}</p>
    {% else %}
      <p>Luggage: Kitten</p>
    {% endif %}
  </div>
  <div class="card-action">
    <a href="{% url 'cars_update' car.id %}">Edit</a>
    <a href="{% url 'cars_delete' car.id %}">Delete</a>
  </div>
</div>
<!-- Insert photo markup below this comment -->
{% for photo in car.photo_set.all %}
  <img class="responsive-img card-panel" src="{{photo.url}}">
{% empty %}
  <div class="card-panel teal-text center-align">No Photos Uploaded</div>
{% endfor %}
<!-- new code below -->
<form action="{% url 'add_photo' car.id %}" enctype="multipart/form-data" method="POST" class="card-panel">
    {% csrf_token %}
    <input type="file" name="photo-file">
    <br><br>
    <input type="submit" class="btn" value="Upload Photo">
</form>

{% endblock %}